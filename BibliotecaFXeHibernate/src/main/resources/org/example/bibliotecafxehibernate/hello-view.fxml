<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<BorderPane fx:id="root"
            xmlns="http://javafx.com/javafx/17.0.12"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="org.example.bibliotecafxehibernate.HelloController"
            prefHeight="800.0" prefWidth="1200.0"
            stylesheets="@/style.css">

    <!-- Encabezado -->
    <top>
        <HBox spacing="15" alignment="CENTER" styleClass="header-bar">
            <Label text="ðŸ“– Biblioteca Digital" styleClass="header-title"/>
            <HBox spacing="10" alignment="CENTER_RIGHT">
                <Button text="ðŸ”„ Refrescar" onAction="#initialize"/>
            </HBox>
        </HBox>
    </top>

    <!-- Contenido central con pestaÃ±as -->
    <center>
        <TabPane fx:id="tabPane" tabClosingPolicy="UNAVAILABLE" styleClass="tabPaneCustom">
            <tabs>

                <!-- TAB: Libros -->
                <Tab text="Libros">
                    <content>
                        <VBox spacing="10" alignment="CENTER">
                            <HBox spacing="10">
                                <TextField fx:id="searchField" promptText="Buscar por tÃ­tulo, autor o ISBN"/>
                                <Button text="ðŸ” Buscar" onAction="#buscarLibros"/>
                                <Button text="ðŸ“š Mostrar Todo" onAction="#initialize"/>
                            </HBox>
                            <TableView fx:id="booksTable">
                                <columns>
                                    <TableColumn fx:id="titleColumn" text="TÃ­tulo"/>
                                    <TableColumn fx:id="isbnColumn" text="ISBN"/>
                                    <TableColumn fx:id="authorColumn" text="Autor"/>
                                    <TableColumn fx:id="publisherColumn" text="Editorial"/>
                                    <TableColumn fx:id="yearColumn" text="AÃ±o"/>
                                </columns>
                            </TableView>
                            <HBox spacing="10" alignment="CENTER">
                                <Button text="âž• Agregar" onAction="#abrirVentanaAgregarLibro"/>
                                <Button text="âœï¸ Modificar" onAction="#abrirVentanaModificarLibro"/>
                                <Button text="ðŸ—‘ï¸ Eliminar" onAction="#eliminarLibro" styleClass="button-red"/>
                            </HBox>
                        </VBox>
                    </content>
                </Tab>

                <!-- TAB: Autores -->
                <Tab text="Autores">
                    <content>
                        <VBox spacing="10" alignment="CENTER">
                            <HBox spacing="10">
                                <TextField fx:id="searchField2" promptText="Buscar Nombre o Nacionalidad"/>
                                <Button text="ðŸ” Buscar" onAction="#buscarAutor"/>
                                <Button text="ðŸ“‹ Mostrar Todo" onAction="#initialize"/>
                            </HBox>
                            <TableView fx:id="authorsTable">
                                <columns>
                                    <TableColumn fx:id="nombreColumn" text="Nombre"/>
                                    <TableColumn fx:id="nacionalidadColumn" text="Nacionalidad"/>
                                </columns>
                            </TableView>
                            <HBox spacing="10" alignment="CENTER">
                                <Button text="âž• Agregar" onAction="#abrirVentanaAgregarAutor"/>
                                <Button text="âœï¸ Modificar" onAction="#abrirVentanaModificarAutor"/>
                                <Button text="ðŸ—‘ï¸ Eliminar" onAction="#eliminarAutor" styleClass="button-red"/>
                            </HBox>
                        </VBox>
                    </content>
                </Tab>

                <!-- TAB: Socios -->
                <Tab text="Socios">
                    <content>
                        <VBox spacing="10" alignment="CENTER">
                            <HBox spacing="10">
                                <TextField fx:id="searchField3" promptText="Buscar Socio"/>
                                <Button text="ðŸ” Buscar" onAction="#buscarSocios"/>
                                <Button text="ðŸ“‹ Mostrar Todo" onAction="#initialize"/>
                            </HBox>
                            <TableView fx:id="sociosTable">
                                <columns>
                                    <TableColumn fx:id="nombreColumn2" text="Nombre"/>
                                    <TableColumn fx:id="direccionColumn" text="DirecciÃ³n"/>
                                    <TableColumn fx:id="telefonoColumn" text="TelÃ©fono"/>
                                </columns>
                            </TableView>
                            <HBox spacing="10" alignment="CENTER">
                                <Button text="âž• Agregar" onAction="#abrirVentanaAgregarSocio"/>
                                <Button text="âœï¸ Modificar" onAction="#abrirVentanaModificarSocio"/>
                                <Button text="ðŸ—‘ï¸ Eliminar" onAction="#eliminarSocio" styleClass="button-red"/>
                            </HBox>
                        </VBox>
                    </content>
                </Tab>

                <!-- TAB: PrÃ©stamos -->
                <Tab text="PrÃ©stamos">
                    <content>
                        <VBox spacing="10" alignment="CENTER">
                            <HBox spacing="10">
                                <TextField fx:id="buscarTextField" promptText="Buscar PrÃ©stamo"/>
                                <Button text="ðŸ” Buscar" onAction="#buscarPrestamos"/>
                                <Button text="ðŸ“‹ Mostrar Todo" onAction="#initialize"/>
                            </HBox>
                            <TableView fx:id="loansTable">
                                <columns>
                                    <TableColumn fx:id="libroColumn" text="Libro"/>
                                    <TableColumn fx:id="socioColumn" text="Socio"/>
                                    <TableColumn fx:id="fechaPrestamColumn" text="Fecha PrÃ©stamo"/>
                                    <TableColumn fx:id="fechaDevolucionColumn" text="Fecha DevoluciÃ³n"/>
                                    <TableColumn fx:id="estadoColumn" text="Estado"/>
                                </columns>
                            </TableView>
                            <HBox spacing="10" alignment="CENTER">
                                <Button text="ðŸ“– Registrar PrÃ©stamo" onAction="#abrirVentanaRegistrarPrestamo"/>
                                <Button text="âœ… Registrar DevoluciÃ³n" onAction="#registrarDevolucion"/>
                            </HBox>
                        </VBox>
                    </content>
                </Tab>

            </tabs>
        </TabPane>
    </center>
</BorderPane>
